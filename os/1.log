(rustup target list | grep "riscv64gc-unknown-none-elf (installed)") || rustup target add riscv64gc-unknown-none-elf
riscv64gc-unknown-none-elf (installed)
cargo install cargo-binutils
rustup component add rust-src
rustup component add llvm-tools-preview
Platform: qemu
make[1]: Entering directory '/home/jackhu/rust-os/hzw-rcore-hal/user'
make[1]: Leaving directory '/home/jackhu/rust-os/hzw-rcore-hal/user'
src_path = ../user/src/bin/
target_path = ../user/target/riscv64gc-unknown-none-elf/release/
[rustsbi] RustSBI version 0.3.1, adapting to RISC-V SBI v1.0.0
.______       __    __      _______.___________.  _______..______   __
|   _  \     |  |  |  |    /       |           | /       ||   _  \ |  |
|  |_)  |    |  |  |  |   |   (----`---|  |----`|   (----`|  |_)  ||  |
|      /     |  |  |  |    \   \       |  |      \   \    |   _  < |  |
|  |\  \----.|  `--'  |.----)   |      |  |  .----)   |   |  |_)  ||  |
| _| `._____| \______/ |_______/       |__|  |_______/    |______/ |__|
[rustsbi] Implementation     : RustSBI-QEMU Version 0.2.0-alpha.2
[rustsbi] Platform Name      : riscv-virtio,qemu
[rustsbi] Platform SMP       : 1
[rustsbi] Platform Memory    : 0x80000000..0x88000000
[rustsbi] Boot HART          : 0
[rustsbi] Device Tree Region : 0x87e00000..0x87e010f6
[rustsbi] Firmware Address   : 0x80000000
[rustsbi] Supervisor Address : 0x80200000
[rustsbi] pmp01: 0x00000000..0x80000000 (-wr)
[rustsbi] pmp02: 0x80000000..0x80200000 (---)
[rustsbi] pmp03: 0x80200000..0x88000000 (xwr)
[rustsbi] pmp04: 0x88000000..0x00000000 (-wr)
[34m[INFO] src/logging.rs:65 logging module initialized[0m
[34m[INFO] /home/jackhu/.cargo/git/checkouts/polyhal-b7d1defa7146e0b7/f152260/src/riscv64/mod.rs:111 There has 1 CPU(s)[0m
[34m[INFO] /home/jackhu/.cargo/git/checkouts/polyhal-b7d1defa7146e0b7/f152260/src/riscv64/mod.rs:113 memory region 0x80000000 - 0x88000000[0m
KERN: init plic
/**** APPS ****
[34m[INFO] /home/jackhu/.cargo/git/checkouts/virtio-drivers-4fdfaa862bcdc399/4ee80e5/src/blk.rs:24 device features: SEG_MAX | GEOMETRY | BLK_SIZE | SCSI | FLUSH | TOPOLOGY | CONFIG_WCE | DISCARD | WRITE_ZEROES | NOTIFY_ON_EMPTY | RING_INDIRECT_DESC | RING_EVENT_IDX[0m
[34m[INFO] /home/jackhu/.cargo/git/checkouts/virtio-drivers-4fdfaa862bcdc399/4ee80e5/src/blk.rs:32 config: BlkConfig { capacity: Volatile(65536), size_max: Volatile(0), seg_max: Volatile(254), cylinders: Volatile(65), heads: Volatile(16), sectors: Volatile(63), blk_size: Volatile(512), physical_block_exp: Volatile(0), alignment_offset: Volatile(0), min_io_size: Volatile(0), opt_io_size: Volatile(0) }[0m
[34m[INFO] /home/jackhu/.cargo/git/checkouts/virtio-drivers-4fdfaa862bcdc399/4ee80e5/src/blk.rs:33 found a block device of size 32768KB[0m
condsync_condvar
adder_simple_spin
hello_world
sync_sem
store_fault
forktest2
cmdline_args
stack_overflow
barrier_fail
adder_peterson_spin
count_lines
inputdev_event
condsync_sem
phil_din_mutex
race_adder_arg
gui_uart
adder_mutex_spin
threads
pipetest
tcp_simplehttp
udp
peterson
adder_mutex_blocking
initproc
infloop
pipe_large_test
cat
forktree
exit
matrix
adder_peterson_yield
sleep_simple
barrier_condvar
until_timeout
adder
stackful_coroutine
filetest_simple
threads_arg
gui_rect
yield
huge_write_mt
forktest_simple
eisenberg
random_num
usertests
adder_atomic
priv_inst
stackless_coroutine
adder_simple_yield
priv_csr
mpsc_sem
forktest
run_pipe_test
fantastic_text
user_shell
huge_write
gui_simple
gui_snake
sleep
**************/
[34m[INFO] src/main.rs:142 alloc page: 0x812bc000[0m
[34m[INFO] src/mm/memory_set.rs:61 current pagetable: PageTable(0x812bc000)[0m
[34m[INFO] src/mm/memory_set.rs:86 start_va: 0x10000, end_va: 0x12608[0m
[34m[INFO] src/main.rs:142 alloc page: 0x812be000[0m
[34m[INFO] src/main.rs:142 alloc page: 0x812bf000[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x10, ppn: 0x812bd[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x11, ppn: 0x812c0[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x12, ppn: 0x812c1[0m
[34m[INFO] src/mm/memory_set.rs:86 start_va: 0x13000, end_va: 0x13ad8[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x13, ppn: 0x812c2[0m
[34m[INFO] src/mm/memory_set.rs:86 start_va: 0x14000, end_va: 0x1c352[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x14, ppn: 0x812c3[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x15, ppn: 0x812c4[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x16, ppn: 0x812c5[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x17, ppn: 0x812c6[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x18, ppn: 0x812c7[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x19, ppn: 0x812c8[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x1a, ppn: 0x812c9[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x1b, ppn: 0x812ca[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x1c, ppn: 0x812cb[0m
[34m[INFO] src/task/id.rs:122 user stack 0x1e000 - 0x20000[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x1e, ppn: 0x812cc[0m
[34m[INFO] src/mm/memory_set.rs:172 vpn: 0x1f, ppn: 0x812cd[0m
[32m[DEBUG] src/task/processor.rs:57 context switch to task: 0xffffffc0802bdde0[0m
[34m[INFO] src/main.rs:52 trap_type @ Time[0m
[34m[INFO] src/main.rs:106 end of trap[0m
[34m[INFO] src/main.rs:52 trap_type @ UserEnvCall[0m
[34m[INFO] src/syscall/fs.rs:9 user write: fd=1, buf=0x1300b, len=11[0m
[34m[INFO] src/fs/stdio.rs:47 current pt: PageTable(0x812bc000)[0m
[34m[INFO] src/fs/stdio.rs:48 paddr: 0x812c200b[0m
[34m[INFO] src/main.rs:52 trap_type @ LoadPageFault(1300b)[0m
[kernel] Segmentation Fault, SIGSEGV=11
[kernel] Idle process exit with exit_code -11 ...
